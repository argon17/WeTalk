(this.webpackJsonpwetalk=this.webpackJsonpwetalk||[]).push([[0],{122:function(e,t,a){},123:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(15),o=a.n(i),s=(a(122),a(11)),l=(a(123),a(173)),r=a(175),d=a(26),u=(a(124),a(138),a(139),d.a.initializeApp({apiKey:"AIzaSyBIrIcDMj0X9oM7Xd8KOJ8tpny2SyQDbeA",authDomain:"wetalk-argon17.firebaseapp.com",databaseURL:"https://wetalk-argon17-default-rtdb.firebaseio.com",projectId:"wetalk-argon17",storageBucket:"wetalk-argon17.appspot.com",messagingSenderId:"473443794549",appId:"1:473443794549:web:aa9948674228b39bce823c"}).firestore()),j=d.a.auth(),b=d.a.storage(),h=new d.a.auth.GoogleAuthProvider,g=a(3),m=Object(l.a)((function(e){return{main:{height:"100"},lgn_btn:{marginTop:e.spacing(40)}}})),p=function(){var e=m();return Object(g.jsx)("div",{className:e.main,children:Object(g.jsx)(r.a,{color:"primary",variant:"contained",className:e.lgn_btn,onClick:function(){j.signInWithPopup(h).then((function(e){})).catch((function(e){console.log(e)}))},children:"Get Started"})})},O=a(28),f=a(196),x=a(38),v=a(205),N=a(184),y=a(197),S=a(204),C=a(105),k=a(193),w=a(198),I=a(102),D=a(199),L=a(203),U=a(206),P=a(100),F=a.n(P),R=a.p+"static/media/logo.ecea2523.png",_=a(101),B=Object(_.a)({overrides:{MuiCssBaseline:{"@global":{body:{background:"linear-gradient(to right, #0f2027, #203a43, #2c5364)",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}}},palette:{type:"dark",primary:{main:"#2C5364"},secondary:{main:"#ffffff"}},typography:{fontFamily:"Ubuntu"}}),A=a(177),M=a(182),E=a(179),T=a(178),W=a(201),J=function(e){var t=e.create,a=e.toggle,c=Object(n.useState)(!0),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(""),u=Object(s.a)(d,2),j=u[0],b=u[1];function h(){l(!1),a()}return Object(g.jsx)("div",{children:Object(g.jsxs)(A.a,{onClose:h,PaperProps:{style:{background:"linear-gradient(to right, #0f2027, #203a43, #2c5364)",boxShadow:"none"}},open:o,children:[Object(g.jsx)(T.a,{children:"Add Channel"}),Object(g.jsx)(E.a,{children:Object(g.jsx)(W.a,{fullWidth:!0,label:"Channel Name",margin:"dense",name:"cName",onChange:function(e){b(e.target.value)},value:j})}),Object(g.jsxs)(M.a,{children:[Object(g.jsx)(r.a,{color:"secondary",onClick:h,children:"Cancel"}),Object(g.jsx)(r.a,{color:"default",onClick:function(e){return function(e){e.preventDefault(),j&&(t(j),a())}(e)},variant:"outlined",children:"Add Channel"})]})]})})},z=a(183),G=a(181),V=a(142),q=a(185),K=a(186),X=a(18),Y=a(93),H=a.n(Y),Q=Object(l.a)((function(e){return{addChannelButton:{margin:e.spacing(2)},channel:{paddingLeft:e.spacing(5),boxShadow:"1px 1px black"}}})),Z=function(e){var t=e.user,a=Object(n.useState)(!1),c=Object(s.a)(a,2),i=c[0],o=c[1],l=Object(n.useState)([]),j=Object(s.a)(l,2),b=j[0],h=j[1],m=Object(X.f)(),p=Q(),O=function(){o(!i)};return Object(n.useEffect)((function(){t&&u.collection("users").doc(t).onSnapshot((function(e){h(e.data().channels.map((function(e,t){return{channelName:e.channelName,id:e.id}})))}))}),[t]),Object(g.jsxs)("div",{children:[i?Object(g.jsx)(J,{create:function(e){if(e){console.log(e);var a=[];a.push(t),u.collection("channels").add({channelName:e,members:a}).then((function(a){var n={channelName:e,id:a.id};console.log("added new channel",a.id),u.collection("users").doc(t).update({channels:d.a.firestore.FieldValue.arrayUnion(n)})})).then((function(e){console.log(e)}))}},toggle:O}):null,Object(g.jsx)(r.a,{className:p.addChannelButton,color:"primary",endIcon:Object(g.jsx)(z.a,{}),onClick:O,variant:"contained",children:"Add Channel"}),Object(g.jsx)(N.a,{}),Object(g.jsx)(G.a,{component:"div",disablePadding:!0,children:b.map((function(e){return Object(g.jsxs)(V.a,{button:!0,onClick:function(){return t=e.id,void m.push("/channel/".concat(t));var t},className:p.channel,children:[Object(g.jsx)(q.a,{children:Object(g.jsx)(H.a,{})}),Object(g.jsx)(K.a,{primary:e.channelName})]},e.id)}))})]})},$=function(e){var t=e.toggle,a=e.alert,i=c.a.useState(!0),o=Object(s.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(""),b=Object(s.a)(j,2),h=b[0],m=b[1],p=Object(n.useState)(""),O=Object(s.a)(p,2),f=O[0],x=O[1],v=Object(n.useState)(""),N=Object(s.a)(v,2),y=N[0],S=N[1],C=Object(n.useState)(""),k=Object(s.a)(C,2),w=k[0],I=k[1];function D(){d(!1),t()}Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userDetails"));m(e.name),x(e.displayName),S(e.email),I(e.uid)}),[]);return Object(g.jsx)("div",{children:Object(g.jsxs)(A.a,{onClose:D,PaperProps:{style:{background:"linear-gradient(to right, #0f2027, #203a43, #2c5364)",boxShadow:"none"}},open:l,children:[Object(g.jsx)(T.a,{children:"Edit Profile"}),Object(g.jsxs)(E.a,{children:[Object(g.jsx)(W.a,{fullWidth:!0,label:"Display Name",margin:"dense",name:"displayName",onChange:function(e){x(e.target.value)},value:f}),Object(g.jsx)(W.a,{fullWidth:!0,disabled:!0,label:"Email",margin:"dense",name:"email",value:y}),Object(g.jsx)(W.a,{fullWidth:!0,disabled:!0,margin:"dense",label:"Name",name:"name",value:h})]}),Object(g.jsxs)(M.a,{children:[Object(g.jsx)(r.a,{color:"secondary",onClick:D,children:"Cancel"}),Object(g.jsx)(r.a,{color:"default",onClick:function(){u.collection("users").doc(w).update({displayName:f}).then((function(e){a()})).catch((function(e){console.log(e)})),d(!1),t()},variant:"outlined",children:"Update"})]})]})})},ee=a(99),te=a.n(ee),ae=a(40),ne=a(187),ce=a(188),ie=a(189),oe=a(190),se=Object(l.a)((function(e){return{container:{margin:e.spacing(5),padding:e.spacing(3),boxShadow:"0px 3px 4px -1px rgb(0 0 0 / 17%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 92%)",color:"rgb(220, 221, 222)"}}})),le=function(){var e=se();return Object(g.jsxs)("div",{className:e.container,children:[Object(g.jsx)(x.a,{variant:"h4",children:"Welcome to WeTalk"}),Object(g.jsx)(x.a,{variant:"h6",children:"Let's Communicate !!"})]})},re=Object(l.a)((function(e){return{container:{padding:e.spacing(2)},content:{display:"flex",justifyContent:"space-between",background:"linear-gradient(to right, rgba(72, 85, 99, 0.5), rgba(41, 50, 60, 0.5))"},card_container:{padding:e.spacing(2)},card:{display:"flex",padding:e.spacing(10),height:e.spacing(30)},channel_avatar:{height:e.spacing(10),width:e.spacing(10),backgroundColor:e.palette.primary.main,fontSize:"2rem",color:"#ffffff"},channel_name:{paddingTop:e.spacing(5)}}})),de=function(e){var t=e.user,a=Object(n.useState)([]),c=Object(s.a)(a,2),i=c[0],o=c[1],l=re(),r=Object(X.f)();Object(n.useEffect)((function(){u.collection("users").doc(t).onSnapshot((function(e){o(e.data().channels.map((function(e,t){return{channelName:e.channelName,id:e.id}})))}))}),[t]);return Object(g.jsxs)("div",{children:[Object(g.jsx)(le,{}),i.length>0?Object(g.jsx)(ne.a,{container:!0,className:l.container,children:i.map((function(e){return Object(g.jsx)(ne.a,{item:!0,xs:6,md:3,className:l.card_container,children:Object(g.jsx)(ce.a,{className:l.content,variant:"outlined",children:Object(g.jsx)(ie.a,{className:l.card,onClick:function(){return t=e.id,void r.push("/channel/".concat(t));var t},children:Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(v.a,{variant:"square",className:l.channel_avatar,children:e.channelName.substr(0,1).toUpperCase()}),Object(g.jsx)(x.a,{className:l.channel_name,children:e.channelName})]})})})},e.id)}))}):Object(g.jsx)("div",{children:Object(g.jsx)(x.a,{children:"Seems, there are no channels, create a channel first."})})]})},ue=a(94),je=a(192),be=a(194),he=a(95),ge=a.n(he),me=a(191),pe=Object(l.a)((function(e){return{thumbnail:{width:e.spacing(40),objectFit:"contain"}}})),Oe=function(e){var t=e.msgId,a=e.text,c=e.deleteMsg,i=e.handleDialog,o=e.postImg,l=Object(n.useState)(!0),d=Object(s.a)(l,2),u=d[0],j=d[1],b=pe(),h=function(){j(!1),i()};return Object(g.jsx)("div",{children:Object(g.jsxs)(A.a,{open:u,PaperProps:{style:{background:"linear-gradient(to right, #0f2027, #203a43, #2c5364)",boxShadow:"none"}},onClose:h,children:[Object(g.jsx)(T.a,{children:" Delete Message ? "}),Object(g.jsxs)(E.a,{children:[Object(g.jsx)(me.a,{children:a}),o&&Object(g.jsx)("img",{src:o,alt:"post_img",className:b.thumbnail})]}),Object(g.jsxs)(M.a,{children:[Object(g.jsx)(r.a,{onClick:h,children:"Cancel"}),Object(g.jsx)(r.a,{onClick:function(){c(t),i()},color:"primary",autoFocus:!0,variant:"contained",children:"Delete"})]})]})})},fe=Object(l.a)((function(e){var t;return{container:{background:"linear-gradient(to right, rgba(72, 85, 99, 0.5), rgba(41, 50, 60, 0.5))","&:hover":{background:"linear-gradient(to right, rgba(70, 87, 98, 0.9), rgba(40, 51, 61, 0.9))"}},header:{textAlign:"left"},text:{textAlign:"left",marginLeft:e.spacing(5),color:"white"},media:{marginTop:e.spacing(2)},post_img:(t={},Object(O.a)(t,e.breakpoints.up("sm"),{width:e.spacing(80)}),Object(O.a)(t,"width",e.spacing(40)),Object(O.a)(t,"objectFit","contain"),t)}})),xe=function(e){var t=e.values,a=e.msgId,c=fe(),i=JSON.parse(localStorage.getItem("userDetails")).uid,o=t.uid,l=t.timestamp.toDate(),r=l.getDate().toString();r=r.length<2?"0"+r:r;var d=l.getFullYear(),j=(l.getMonth()+1).toString();j=j.length<2?"0"+j:j;var b=l.getHours().toString();b=b.length<2?"0"+b:b;var h=l.getMinutes().toString();h=h.length<2?"0"+h:h;var m="".concat(r,"/").concat(j,"/").concat(d,"   ").concat(b,":").concat(h),p=t.postImg,O=Object(X.g)().id,f=Object(n.useState)(!1),N=Object(s.a)(f,2),y=N[0],S=N[1],C=function(){S(!y)};return Object(g.jsxs)("div",{children:[y&&Object(g.jsx)(Oe,{msgId:a,text:t.text,postImg:p,deleteMsg:function(e){u.collection("channels").doc(O).collection("messages").doc(e).delete().then((function(e){console.log("deleted successfully")})).catch((function(e){console.log(e)}))},handleDialog:C}),Object(g.jsxs)(ce.a,{className:c.container,children:[Object(g.jsx)(je.a,{avatar:Object(g.jsx)(v.a,{"aria-label":"user-pic",className:c.avatar,alt:t.userName,src:t.userImg}),action:Object(g.jsx)(k.a,{"aria-label":"delete",onClick:C,children:i===o&&Object(g.jsx)(ge.a,{})}),title:t.userName,subheader:m,className:c.header}),Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",className:c.text,children:t.text}),p&&Object(g.jsx)(be.a,{className:c.media,title:"post_img",children:Object(g.jsx)("img",{src:p,alt:"post_img",className:c.post_img})})]})]})]})},ve=a(96),Ne=a.n(ve),ye=a(98),Se=a.n(ye),Ce=a(97),ke=a.n(Ce),we=a(202),Ie=a(195),De=Object(l.a)((function(e){return{thumbnail:{width:e.spacing(40),objectFit:"contain"}}})),Le=function(e){var t=e.setState,a=e.file,c=De(),i=Object(n.useState)(!0),o=Object(s.a)(i,2),l=o[0],j=o[1],h=Object(n.useState)(""),m=Object(s.a)(h,2),p=m[0],O=m[1],f=Object(n.useState)(0),v=Object(s.a)(f,2),N=v[0],y=v[1],S=Object(n.useState)({display:"none"}),C=Object(s.a)(S,2),k=C[0],w=C[1],I=Object(X.g)(),D=function(){j(!1),t()},L=function(e){e.preventDefault(),w({display:"block"});var t=b.ref("images/".concat(a.name)).put(a);t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;y(t)}),(function(e){console.log(e)}),(function(){t.snapshot.ref.getDownloadURL().then((function(e){!function(e){if(I.id){var t=JSON.parse(localStorage.getItem("userDetails"));if(t){var a=t.displayName,n=t.imgURL,c=t.uid,i=e,o={text:p,timestamp:d.a.firestore.Timestamp.now(),userImg:n,userName:a,uid:c,postImg:i};u.collection("channels").doc(I.id).collection("messages").add(o).then((function(e){console.log("message sent")})).catch((function(e){console.log(e)}))}O("")}}(e)})),D()}))},U=URL.createObjectURL(a);return Object(g.jsx)("div",{children:Object(g.jsxs)(A.a,{onClose:D,PaperProps:{style:{background:"linear-gradient(to right, #0f2027, #203a43, #2c5364)",boxShadow:"none"}},open:l,children:[Object(g.jsx)(T.a,{children:"Upload Image"}),Object(g.jsxs)(E.a,{children:[Object(g.jsxs)("form",{autoComplete:"off",onSubmit:function(e){L(e)},children:[Object(g.jsx)("img",{alt:"user_file",src:U,className:c.thumbnail}),Object(g.jsx)(W.a,{fullWidth:!0,label:"Add Caption",margin:"dense",name:"caption",onChange:function(e){O(e.target.value)},value:p})]}),Object(g.jsx)("div",{style:k,children:Object(g.jsxs)(we.a,{display:"flex",alignItems:"center",children:[Object(g.jsx)(we.a,{width:"100%",mr:1,children:Object(g.jsx)(Ie.a,{variant:"determinate",value:N})}),Object(g.jsx)(we.a,{minWidth:35,children:Object(g.jsxs)(x.a,{variant:"body2",children:[Math.round(N),"%"]})})]})})]}),Object(g.jsxs)(M.a,{children:[Object(g.jsx)(r.a,{color:"secondary",onClick:D,children:"Cancel"}),Object(g.jsx)(r.a,{autoFocus:!0,type:"submit",color:"default",onClick:function(e){return L(e)},variant:"outlined",children:"Upload"})]})]})})},Ue=Object(l.a)((function(e){return{inputFile:{display:"none"},footer:Object(O.a)({},e.breakpoints.up("sm"),{paddingRight:e.spacing(2),paddingLeft:e.spacing(2)}),footerContent:{display:"flex",backgroundColor:e.palette.primary.main,alignItems:"center",borderRadius:"5px"},form:{display:"flex",width:"100%"},chat:Object(O.a)({position:"relative",height:"calc(100vh - 150px)",paddingBottom:e.spacing(2)},e.breakpoints.up("sm"),{paddingRight:e.spacing(2),paddingLeft:e.spacing(2)}),channel_name:{backgroundColor:"#2C5364"},empty:{color:"grey",margin:e.spacing(10)}}})),Pe=function(){var e=Ue(),t=Object(X.g)(),a=Object(X.f)(),c=Object(n.useState)([]),i=Object(s.a)(c,2),o=i[0],l=i[1],r=Object(n.useState)(""),j=Object(s.a)(r,2),b=j[0],h=j[1],m=Object(n.useState)(""),p=Object(s.a)(m,2),O=p[0],f=p[1],v=Object(n.useState)(!1),N=Object(s.a)(v,2),y=N[0],S=N[1],C=Object(n.useState)(null),w=Object(s.a)(C,2),I=w[0],D=w[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userDetails"));if(t.id&&e){var a=e.uid,n=e.channels;u.collection("channels").doc(t.id).onSnapshot((function(e){e.data()&&h(e.data().channelName)})),u.collection("channels").doc(t.id).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){l(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})),-1===n.indexOf(t.id)&&u.collection("channels").doc(t.id).get().then((function(e){if(e.exists){var n={channelName:e.data().channelName,id:t.id};u.collection("users").doc(a).update({channels:d.a.firestore.FieldValue.arrayUnion(n)}),u.collection("channels").doc(t.id).update({members:d.a.firestore.FieldValue.arrayUnion(a)})}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}}),[t,a]);var L=function(){S(!y)};return Object(g.jsxs)("div",{children:[y&&Object(g.jsx)(Le,{setState:L,file:I}),Object(g.jsx)(ne.a,{item:!0,xs:12,className:e.channel_name,children:Object(g.jsx)(x.a,{children:b})}),Object(g.jsx)(ne.a,{item:!0,xs:12,className:e.chat,children:Object(g.jsx)(ue.a,{children:o.length>0?o.map((function(e){return Object(g.jsx)(xe,{values:e.data,msgId:e.id},e.id)})):Object(g.jsxs)(x.a,{className:e.empty,children:["Add People. Start Chatting :)",Object(g.jsx)("br",{}),"You can add people using the URL of this chat."]})})}),Object(g.jsx)("div",{className:e.footer,children:Object(g.jsxs)(ne.a,{item:!0,xs:12,className:e.footerContent,children:[Object(g.jsx)("input",{accept:"image/*",id:"input-file",className:e.inputFile,type:"file",onChange:function(e){return function(e){e.preventDefault(),e.target.files[0]&&(D(e.target.files[0]),L()),e.target.value=null}(e)}}),Object(g.jsx)("label",{htmlFor:"input-file",children:Object(g.jsx)(k.a,{"aria-label":"upload picture",component:"span",children:Object(g.jsx)(Ne.a,{})})}),Object(g.jsx)(k.a,{component:"button",children:Object(g.jsx)(ke.a,{})}),Object(g.jsxs)("form",{autoComplete:"off",onSubmit:function(e){return function(e){if(e.preventDefault(),O&&t.id){var a=JSON.parse(localStorage.getItem("userDetails"));if(a){var n=a.displayName,c=a.imgURL,i=a.uid,o={text:O,timestamp:d.a.firestore.Timestamp.now(),userImg:c,userName:n,uid:i,postImg:null};u.collection("channels").doc(t.id).collection("messages").add(o).then((function(e){console.log("message sent")})).catch((function(e){console.log(e)}))}f("")}}(e)},className:e.form,children:[Object(g.jsx)(W.a,{required:!0,autoFocus:!0,fullWidth:!0,multiline:!0,rows:1,rowsMax:1,value:O,onChange:function(e){f(e.target.value)},margin:"normal",placeholder:"Enter Message"}),Object(g.jsx)(k.a,{type:"submit",component:"button",children:Object(g.jsx)(Se.a,{})})]})]})})]})},Fe=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){a||i(),j.onAuthStateChanged((function(e){e?(u.collection("users").doc(e.uid).get().then((function(t){if(t.exists)console.log("user already exists.");else{var a={name:e.displayName,displayName:e.displayName.split(" ")[0],imgURL:e.photoURL,email:e.email,uid:e.uid,channels:[]};u.collection("users").doc(e.uid).set(a).then((function(e){console.log("new user created")})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)})),c(e.uid)):c(null)}))}),[a]);var i=function(){j.signInWithPopup(h).then((function(e){})).catch((function(e){console.log(e)}))};return Object(g.jsx)("div",{children:a?Object(g.jsx)("div",{children:"you need to login"}):Object(g.jsx)("div",{children:"already logged in"})})},Re=300,_e=Object(l.a)((function(e){var t;return{logo:{height:50,objectFit:"contain"},avatar:{height:25,objectFit:"contain"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:1},root:{display:"flex"},drawer:Object(O.a)({},e.breakpoints.up("sm"),{width:Re,flexShrink:0}),appBar:Object(O.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Re,"px)"),marginLeft:Re}),menuButton:Object(O.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:Re,background:"linear-gradient(to right, #0f2027, #203a43, #2c5364)",color:"white"},content:(t={marginTop:"64px"},Object(O.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Re,"px)")}),Object(O.a)(t,"width","100%"),t),menu:{"& .MuiPaper-root":{backgroundColor:e.palette.primary.main}}}})),Be=function(e){var t=e.window,a=e.uid,i=_e(),o=Object(n.useState)([]),l=Object(s.a)(o,2),r=l[0],d=l[1],b=Object(n.useState)(!1),h=Object(s.a)(b,2),m=h[0],p=h[1],O=c.a.useState(!1),P=Object(s.a)(O,2),_=P[0],A=P[1],M=void 0!==t?function(){return t().document.body}:void 0,E=c.a.useState(null),T=Object(s.a)(E,2),W=T[0],J=T[1],z=Object(n.useState)(!1),G=Object(s.a)(z,2),V=G[0],q=G[1];Object(n.useEffect)((function(){return u.collection("users").doc(a).onSnapshot((function(e){d(e.data()),localStorage.setItem("userDetails",JSON.stringify(e.data()))})),function(){d([])}}),[a]);var K=function(){A(!_)},Y=function(){p(!m)},H=function(){q(!V)},Q=r&&Object(g.jsxs)("div",{className:i.side_toolBar,children:[Object(g.jsxs)(f.a,{className:i.header,children:[Object(g.jsx)(x.a,{variant:"h6",className:i.sideToolBarText,children:r.displayName}),Object(g.jsx)(v.a,{alt:r.name,src:r.imgURL})]}),Object(g.jsx)(N.a,{}),Object(g.jsx)(Z,{user:a}),Object(g.jsx)(N.a,{})]});return r?Object(g.jsx)("div",{className:i.root,children:Object(g.jsxs)(ae.a,{basename:"/",children:[Object(g.jsx)(y.a,{}),Object(g.jsx)(S.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:V,onClose:H,TransitionComponent:C.a,message:"Display Name Updated Successfully",action:Object(g.jsx)(k.a,{"aria-label":"close",color:"inherit",onClick:H,children:Object(g.jsx)(te.a,{})})},C.a),m?Object(g.jsx)($,{toggle:Y,alert:H}):null,Object(g.jsx)(w.a,{position:"fixed",className:i.appBar,children:Object(g.jsxs)(f.a,{className:i.toolbar,children:[Object(g.jsx)(k.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:K,className:i.menuButton,children:Object(g.jsx)(F.a,{})}),Object(g.jsxs)("div",{className:i.header,children:[Object(g.jsx)("img",{src:R,alt:"logo",className:i.logo}),Object(g.jsx)(k.a,{onClick:function(e){J(e.currentTarget)},children:Object(g.jsx)(v.a,{alt:r.name,src:r.imgURL})}),Object(g.jsxs)(I.a,{id:"simple-menu",anchorEl:W,keepMounted:!0,open:Boolean(W),onClose:function(){J(null)},className:i.menu,children:[Object(g.jsx)(D.a,{onClick:Y,children:"Edit Profile"}),Object(g.jsx)(D.a,{onClick:function(){j.signOut().then((function(){console.log("signed out"),localStorage.clear()})).catch((function(e){console.log(e)}))},children:"Logout"})]})]})]})}),Object(g.jsxs)("nav",{className:i.drawer,"aria-label":"chat room folders",children:[Object(g.jsx)(L.a,{smUp:!0,implementation:"css",children:Object(g.jsx)(U.a,{container:M,variant:"temporary",anchor:"rtl"===B.direction?"right":"left",open:_,onClose:K,classes:{paper:i.drawerPaper},ModalProps:{keepMounted:!0},children:Q})}),Object(g.jsx)(L.a,{xsDown:!0,implementation:"css",children:Object(g.jsx)(U.a,{classes:{paper:i.drawerPaper},variant:"permanent",open:!0,children:Q})})]}),Object(g.jsx)("main",{className:i.content,children:Object(g.jsxs)(X.c,{children:[Object(g.jsx)(X.a,{path:"/",exact:!0,children:Object(g.jsx)(de,{user:a})}),Object(g.jsx)(X.a,{path:"/channel/:id",children:Object(g.jsx)(Pe,{})}),Object(g.jsx)(X.a,{path:"/join/:id",children:Object(g.jsx)(Fe,{})})]})})]})}):Object(g.jsx)(g.Fragment,{children:"Loading..."})};var Ae=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){j.onAuthStateChanged((function(e){e?(u.collection("users").doc(e.uid).get().then((function(t){if(t.exists)console.log("user already exists.");else{var a={name:e.displayName,displayName:e.displayName.split(" ")[0],imgURL:e.photoURL,email:e.email,uid:e.uid,channels:[]};u.collection("users").doc(e.uid).set(a).then((function(e){console.log("new user created")})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)})),c(e.uid)):c(null)}))}),[]),Object(g.jsx)("div",{className:"App",children:a?Object(g.jsx)(Be,{uid:a}):Object(g.jsx)(p,{})})},Me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,208)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))},Ee=a(200);o.a.render(Object(g.jsxs)(Ee.a,{theme:B,children:[Object(g.jsx)(y.a,{}),Object(g.jsx)(Ae,{})]}),document.getElementById("root")),Me()}},[[136,1,2]]]);
//# sourceMappingURL=main.2c579700.chunk.js.map